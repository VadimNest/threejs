import{_ as A}from"./CyYys1tf.js";import{_ as P,C as p,B as k,a as f,k as B,l as y,P as z}from"./Cv3oP066.js";import{G}from"./DNkUmkFf.js";import{m as v,p as I,c as N,b as _,w as R,F as S,o as T,d as U}from"./B9ZuqNB7.js";const Y=v({__name:"galaxy",setup(V){const n={count:1e5,size:.01,radius:5,branches:5,spin:.7,randomness:.2,randomnessPower:3,insideColor:"#ff6030",outsideColor:"#1b3984"};let a=null,t=null,l=null,e=null;const s=o=>{l!==null&&(a==null||a.dispose(),t==null||t.dispose(),o.remove(l)),a=new k;const i=new Float32Array(n.count*3),r=new Float32Array(n.count*3),u=new p(n.insideColor),x=new p(n.outsideColor);for(let m=0;m<n.count;m++){const d=m*3,h=Math.random()*n.radius,C=h*n.spin,w=m%n.branches/n.branches*Math.PI*2,b=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1),M=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1),F=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1);i[d]=Math.cos(w+C)*h+b,i[d+1]=M,i[d+2]=Math.sin(w+C)*h+F;const c=u.clone();c.lerp(x,h/n.radius),r[d]=c.r,r[d+1]=c.g,r[d+2]=c.b}a.setAttribute("position",new f(i,3)),a.setAttribute("color",new f(r,3)),t=new B({size:n.size,sizeAttenuation:!0,depthWrite:!1,blending:y,vertexColors:!0}),l=new z(a,t),o.add(l)},g=({scene:o,renderer:i})=>{o.background=new p("#0a0a1a"),s(o),e=new G({width:360}),e.add(n,"count").min(100).max(5e5).step(100).onFinishChange(()=>s(o)),e.add(n,"size").min(.001).max(.1).step(.001).onFinishChange(()=>s(o)),e.add(n,"radius").min(.01).max(20).step(.01).onFinishChange(()=>s(o)),e.add(n,"branches").min(2).max(20).step(1).onFinishChange(()=>s(o)),e.add(n,"spin").min(-5).max(5).step(.001).onFinishChange(()=>s(o)),e.add(n,"randomness").min(0).max(2).step(.001).onFinishChange(()=>s(o)),e.add(n,"randomnessPower").min(1).max(10).step(.001).onFinishChange(()=>s(o)),e.addColor(n,"insideColor").onFinishChange(()=>s(o)),e.addColor(n,"outsideColor").onFinishChange(()=>s(o))};return I(()=>{e&&e.destroy(),l&&(a==null||a.dispose(),t==null||t.dispose())}),(o,i)=>{const r=A,u=P;return T(),N(S,null,[_(r,{class:"go-back",to:"/"},{default:R(()=>i[0]||(i[0]=[U("⭠ на главную")])),_:1}),_(u,{ref:"threeContainer","camera-position":[-10,5,10],"custom-animation":"",onSceneReady:g},null,512)],64)}}});export{Y as default};
